
{% extends 'Navbar/MenuAdmin.html' %}

{% block title %}Admin{% endblock %}

{% block content %}
        <main class="flex-1 p-6 bg-gray-100">
            <div class="bg-white rounded-lg shadow p-8">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold text-gray-800">Liste Noire</h1>
                </div>
                
                <div class="bg-white rounded-lg shadow overflow-hidden">
                    <table class="w-full">
                        <thead>
                            <tr class="bg-gray-100 border-b">
                                <th class="p-3 text-left">Nom</th>
                                <th class="p-3 text-left">Email</th>
                                <th class="p-3 text-left">Date d'Ajout</th>
                                <th class="p-3 text-left">Raison</th>
                                <th class="p-3 text-left">Statut</th>
                                <th class="p-3 text-left">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b hover:bg-gray-50">
                                <td class="p-3">Jean Dupont</td>
                                <td class="p-3">jean.dupont@example.com</td>
                                <td class="p-3">2024-02-20</td>
                                <td class="p-3">Abus de requêtes</td>
                                <td class="p-3">
                                    <span class="bg-red-500 text-white px-3 py-1 rounded-full text-xs">Bloqué</span>
                                </td>
                                <td class="p-3">
                                    <div class="flex space-x-2">
                                        <button class="text-blue-500" title="Détails">
                                            <i data-lucide="eye"></i>
                                        </button>
                                        <button class="text-green-500" title="Réactiver">
                                            <i data-lucide="unlock"></i>
                                        </button>
                                        <button class="text-red-500" title="Supprimer">
                                            <i data-lucide="trash-2"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr class="border-b hover:bg-gray-50">
                                <td class="p-3">Marie Durand</td>
                                <td class="p-3">marie.durand@example.com</td>
                                <td class="p-3">2024-03-15</td>
                                <td class="p-3">Activité suspecte</td>
                                <td class="p-3">
                                    <span class="bg-red-500 text-white px-3 py-1 rounded-full text-xs">Bloqué</span>
                                </td>
                                <td class="p-3">
                                    <div class="flex space-x-2">
                                        <button class="text-blue-500" title="Détails">
                                            <i data-lucide="eye"></i>
                                        </button>
                                        <button class="text-green-500" title="Réactiver">
                                            <i data-lucide="unlock"></i>
                                        </button>
                                        <button class="text-red-500" title="Supprimer">
                                            <i data-lucide="trash-2"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Détails de la Liste Noire -->
                <div class="mt-6 bg-gray-100 rounded-lg p-6">
                    <h2 class="text-xl font-semibold mb-4">Statistiques de la Liste Noire</h2>
                    <div class="grid grid-cols-4 gap-4">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Total Bloqués</h3>
                            <p class="text-2xl font-bold text-red-600">12</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Bloqués ce Mois</h3>
                            <p class="text-2xl font-bold text-yellow-600">3</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Raison Principale</h3>
                            <p class="text-lg font-semibold text-gray-700">Abus</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Actions en Attente</h3>
                            <p class="text-2xl font-bold text-blue-600">2</p>
                        </div>
                    </div>
                </div>

                <!-- Modal Ajouter à la Liste Noire -->
                <div id="blacklistModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 items-center justify-center">
                    <div class="bg-white rounded-lg p-6 max-w-md w-full">
                        <h2 class="text-xl font-semibold mb-4">Ajouter à la Liste Noire</h2>
                        <form>
                            <div class="mb-4">
                                <label class="block mb-2">Nom Complet</label>
                                <input type="text" class="w-full border rounded px-3 py-2" required>
                            </div>
                            <div class="mb-4">
                                <label class="block mb-2">Email</label>
                                <input type="email" class="w-full border rounded px-3 py-2" required>
                            </div>
                            <div class="mb-4">
                                <label class="block mb-2">Raison du Blocage</label>
                                <select class="w-full border rounded px-3 py-2">
                                    <option>Abus de Requêtes</option>
                                    <option>Activité Suspecte</option>
                                    <option>Violation des Conditions</option>
                                    <option>Autre</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label class="block mb-2">Commentaire</label>
                                <textarea class="w-full border rounded px-3 py-2" rows="3"></textarea>
                            </div>
                            <div class="flex justify-end space-x-2">
                                <button type="button" class="bg-gray-200 px-4 py-2 rounded">Annuler</button>
                                <button type="submit" class="bg-red-500 text-white px-4 py-2 rounded">Bloquer</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
        <script>
            lucide.createIcons();
        
            // Modal Toggle Script
            const addToBlacklistBtn = document.querySelector('button[class*="bg-red-500"]');
            const blacklistModal = document.getElementById('blacklistModal');
        
            addToBlacklistBtn.addEventListener('click', () => {
                blacklistModal.classList.remove('hidden');
                blacklistModal.classList.add('flex');
            });
        
            blacklistModal.addEventListener('click', (e) => {
                if (e.target === blacklistModal) {
                    blacklistModal.classList.add('hidden');
                    blacklistModal.classList.remove('flex');
                }
            });
        </script>
{% endblock %}


